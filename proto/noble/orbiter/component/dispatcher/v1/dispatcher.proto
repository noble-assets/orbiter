syntax = "proto3";

package noble.orbiter.component.dispatcher.v1;

import "amino/amino.proto";
import "cosmos_proto/cosmos.proto";
import "gogoproto/gogo.proto";
import "noble/orbiter/core/v1/id.proto";

option go_package = "orbiter.dev/types/component/dispatcher";

// AmountDispatched represents the incoming and outgoing
// amount dispatched for a couple of cross-chain identifier
// (protocol + chain) and for a single coin denomination.
message AmountDispatched {
  // incoming represented the total incoming amount dispatched.
  string incoming = 1 [
    (cosmos_proto.scalar) = "cosmos.Int",
    (gogoproto.customtype) = "cosmossdk.io/math.Int",
    (gogoproto.nullable) = false,
    (amino.dont_omitempty) = true
  ];

  // outgoing represents the total outgoing amount dispatched.
  string outgoing = 2 [
    (cosmos_proto.scalar) = "cosmos.Int",
    (gogoproto.customtype) = "cosmossdk.io/math.Int",
    (gogoproto.nullable) = false,
    (amino.dont_omitempty) = true
  ];
}

// DispatchedAmountEntry contains information on the amounts dispatched between
// a source and a destination chain for a specific denom.
message DispatchedAmountEntry {
  noble.orbiter.core.v1.CrossChainID source_id = 1 [(amino.dont_omitempty) = true];
  noble.orbiter.core.v1.CrossChainID destination_id = 2 [(amino.dont_omitempty) = true];
  string denom = 3;
  AmountDispatched amount_dispatched = 4 [(gogoproto.nullable) = false];
}

// DispatchCountEntry contains information on the number of dispatched between
// a source and a destination chain.
message DispatchCountEntry {
  noble.orbiter.core.v1.CrossChainID source_id = 1 [(amino.dont_omitempty) = true];
  noble.orbiter.core.v1.CrossChainID destination_id = 2 [(amino.dont_omitempty) = true];
  uint64 count = 3;
}
